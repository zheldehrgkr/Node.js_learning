# 05. 패키지 매니저

npm 에 업로드된 노드 모듈을 패키지라고 한다.

## package.json

패키지의 버전을 관리하는 파일, 노드 프로젝트를 시작하기 전에 무조건 생성하자. npm init으로 생성과 초기 설정을 할 수 있다.

## node_modules

npm 에서 설피하는 패키지들은 npm 의 다른 패키지들에 의존하고 있고, 그 패키지들 또한 다른 패키지들에 의존한다. 이러한 패키지들이 설치되는 곳이 node_modules 이다. package.json 파일만 있다면 npm install 로 설치가 가능하므로 보관할 필요는 없으며 특히 커밋하지 말도록 하자.

```
// .gitignore
node_modules
```

## package-lock.json

node_modules 의 패키지들 까지 포함하여 버젼과 의존관계를 관히라는 파일이다.

## 명령어

다음 명령어로 패키지 설치가 가능하다. 한꺼번에 여러 개도 설치가 가능하다.

```bash
npm i 패키지이름1 패키지이름2 ...
```

다음 명령어로 개발용 패키지를 설치할 수 있다. package.json의 devDependencies 속성으로 관리된다.

```bash
npm i -D 패키지이름
```

다음 명령어로 전역 설치를 할 수 있다. (node_modules가 아닌 npm 설치 폴더에 저장함으로서 콘솔의 명령어로 사용 가능하다.)

```bash
npm i -g 패키지이름
```

전역 설치는 package.json에서 관리가 되지 않아 다시 설치하기가 어려운 부분이 있다. 이 때 사용할 수 있는 명령어가 npx이다.  
일단 전역 설치를 하지 않고 설치한 후 npx 명령어와 함께 실행하면 전역 설치한 것 같은(콘솔의 명령어로 사용 가능한)효과를 얻을 수 있다.

```bash
npm i -D rimraf
npx rimraf node_modules
```

## 버전

npm의 모든 패키지는 SemVer 방식의 3자리 숫자로 버전이 관리된다.  
첫 번째 자리는 major 버전으로 0이면 초기 개발, 1 이상이면 정식 버젼이며, 하위 호환이 안 될 정도로 패키지가 업데이트 되었으면 숫자가 올라간다. 예컨대 1.5.0과 2.0.0은 호환이 안 될 가능성이 크다.  
두 번째 자리는 minor 버젼으로 하위 호환이 되는 업데이트 사항이 있을 때 숫자를 올린다. 1.5.0 패키지를 쓰는 프로그램이 1.6.0 패키지로 업데이트 해도 문제가 없을 것이다.  
세 번째 자리는 patch 버젼으로 기능 추가 보다는 기존 기능의 문제 수정을 의미한다. minor 업데이트와 마찬가지로 호환되어야 한다.

## 기타 명령어와 npm에 패키지 배포

- [ ] 나중에
